'use strict';

import EventBus from '../modules/event-bus'
import UserService from '../services/user-service';


export default class BaseView {
    constructor(parent) { //делать через инъекцию
        this.parent = parent;
        this.element = document.createElement('div');
        parent.appendChild(this.element);
        this.userService = new UserService();
        this.eventBus = new EventBus();

        this.isCreated = false;
        this.template = null;
    }

    create() {
        this.element.innerHTML = this.template({});

        if (!this.isCreated) {
            this._createFirst();
            this.isCreated = true
        }
    }

    _createFirst() {
    }

    destroy() {
        this.parent.removeChild(this.element);
    }

    destroyAll() {
        this.parent.removeAllChildren();
    }

    getElement() {
        return this.el;
    }
}